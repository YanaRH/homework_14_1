# Классы Product и Category

В данном проекте реализованы два основных класса: `Product` и `Category`. Эти классы позволяют моделировать товары и категории товаров в системе управления товарным запасом.

## Описание классов

### Product

Класс `Product` представляет собой товар, который содержит информацию о названии, описании, цене и количестве. Он наследует свойства и методы от абстрактного класса BaseProduct, а также включает функционал из миксина PrintMixin для добавления удобного форматирования вывода.

**Атрибуты**:
- `name (str)`: Название продукта.
- `description (str)`: Описание продукта.
- `__price (float`): Цена за единицу товара (скрытый атрибут, доступ через геттер и сеттер).
- `quantity (int)`: Количество товара в наличии.

**Методы**:
- `__init__(name, description, price, quantity)`: Инициализирует новый экземпляр продукта с заданным именем, описанием, ценой и количеством.
- `__str__()`: Возвращает строковое представление продукта с указанием названия, цены и количества на складе.
- `__add__(other)`: Метод перегрузки оператора +, который позволяет суммировать стоимость всех товаров двух продуктов.
- `new_product(product_data: Dict, products: list)`: Класс-метод для создания нового продукта. Если продукт с таким именем уже существует, обновляет его количество и оставляет наибольшую цену.
- `price`: Свойство для получения текущей цены продукта.
- `price.setter`: Сеттер, позволяющий установить новую цену для продукта с проверкой на корректность (не допускаются отрицательные значения и цена 0). При снижении цены требуется подтверждение от пользователя.

### Category

Класс `Category` используется для представления категории товаров. Он хранит информацию о названии категории, описании, а также список продуктов, которые входят в эту категорию. Класс наследуется от абстрактного класса BaseCategory, чтобы использовать общие свойства, такие как имя и описание.

**Атрибуты**:
- `name (str)`: Название категории.
- `description (str)`: Описание категории.
- `total_categories (int)`: Общее количество созданных категорий.
- `total_products (int)`: Общее количество всех продуктов во всех категориях.
- `__products (list)`: Список товаров (Product), которые входят в категорию.

**Методы**:
- `__init__(name, description, products=None)`: Инициализирует категорию с заданным именем, описанием и необязательным списком продуктов.
`- __str__()`: Возвращает строковое представление категории с указанием общего количества товаров в ней.
- `add_product(product: Product)`: Добавляет продукт в категорию и увеличивает счетчик общего количества продуктов.
- `products`: Свойство, возвращающее строку с описанием всех товаров в категории.
- `products_list`: Свойство, возвращающее список объектов продуктов в категории.

### LawnGrass
Класс `LawnGrass` представляет собой продукт, предназначенный для продажи газонной травы. Он наследует свойства от класса `Product` и добавляет дополнительные атрибуты, специфичные для газонной травы, такие как страна происхождения, период прорастания и цвет.

**Атрибуты**:
- `country`: Страна, из которой происходит газонная трава.
- `germination_period`: Период прорастания семян газонной травы.
- `color`: Цвет газонной травы.

**Методы**:
- `__add__()`: Переопределенный метод для суммирования стоимости газонной травы при добавлении двух объектов `LawnGrass`. Возвращает общую стоимость, если оба объекта являются экземплярами `LawnGrass`. В противном случае вызывает ошибку `TypeError`.

### Smartphone
Класс `Smartphone` представляет собой продукт, предназначенный для продажи смартфонов. Он наследует свойства от класса `Product` и добавляет дополнительные атрибуты, специфичные для смартфонов, такие как эффективность, модель, объем памяти и цвет.

**Атрибуты**:
- `efficiency`: Эффективность устройства, которая может включать в себя характеристики производительности.
- `model`: Модель смартфона.
- `memory`: Объем памяти устройства.
- `color`: Цвет смартфона.

**Методы**:
- `__add__()`: Переопределенный метод для суммирования стоимости смартфонов при добавлении двух объектов `Smartphone`. Возвращает общую стоимость, если оба объекта являются экземплярами `Smartphone`. В противном случае вызывает ошибку `TypeError`.

### Order
Класс `Order` представляет собой модель заказа, содержащую информацию о товаре, количестве купленного товара и итоговой стоимости. Этот класс наследуется от абстрактного класса BaseCategory, чтобы использовать общие свойства, такие как имя и описание товара.

**Атрибуты**:
- `product (Product)`: Товар, который был куплен.
- `quantity (int)`: Количество купленного товара.
- `total_price (float)`: Итоговая стоимость, рассчитанная на основе цены товара и его количества.
**Методы**:
- `calculate_total_price()`: Метод для вычисления общей стоимости заказа на основе цены товара и его количества.
- `__str__()`: Метод для строкового представления заказа, который включает название товара, количество и итоговую стоимость.

### BaseProduct
Класс `BaseProduct` — это абстрактный класс, который определяет интерфейс для создания новых продуктов. Классы, наследующие BaseProduct, должны реализовать метод new_product, чтобы обеспечить логику создания и добавления новых продуктов.

**Методы**:
- `new_product(cls, *args, **kwargs)`: Абстрактный метод класса, который должен быть реализован в дочерних классах. Этот метод определяет логику для создания нового продукта на основе переданных аргументов.

### BaseCategory
Класс `BaseCategory` — это абстрактный класс, который предоставляет основные свойства и методы для категорий. Он содержит базовую логику и структуру, которая используется в дочерних классах для организации категорий товаров.

**Атрибуты**:
- `name (str)`: Название категории.
- `description (str)`: Описание категории.
Методы:
- `__init__(name: str, description: str)`: Конструктор, который инициализирует объект категории с заданным именем и описанием.
- `__str__()`: Абстрактный метод, который должен быть реализован в дочерних классах для предоставления строкового представления объекта.

### CategoryIterator
Класс `CategoryIterator` предназначен для реализации итерации по продуктам в категории. Этот класс позволяет последовательно обходить все продукты, добавленные в категорию, обеспечивая удобный способ доступа к ним.

**Атрибуты**:
- `category (Category)`: Объект категории, по которому будет выполняться итерация.
- `index (int)`: Индекс текущего продукта в списке продуктов категории.

**Методы**:
- `__init__(category_obj)`: Инициализирует итератор с заданным объектом категории. Устанавливает начальный индекс в 0.
- `__iter__()`: Метод, позволяющий объекту итератора быть итерируемым. Сбрасывает индекс и возвращает сам объект итератора.
- `__next__()`: Возвращает следующий продукт из категории. Если все продукты пройдены, генерируется исключение `StopIteration`.

### PrintMixin
Класс `PrintMixin` предоставляет функциональность для автоматического вывода информации о классе при его создании. Этот миксин позволяет легко получать текстовое представление объектов, включая их имя, описание, цену и количество.

**Методы**:
- `__init__()`: Конструктор, который вызывает метод repr, выводя строковое представление объекта при его создании.
- `__repr__()`: Возвращает строку с информацией о классе, включая имя, описание, цену и количество объекта.

## Тестирование

Для проверки корректности работы классов были написаны тесты с использованием библиотеки `pytest`. Тесты включают:

- Проверку корректности инициализации объектов классов
- Подсчет общего количества продуктов и категорий.
- Правильность вывода информации в консоль

Для запуска тестов выполните команду:

```bash
pytest
